@page
@model Big_Project_v3.Views.Shared.PartialView._SearchBarModel
@{
}
<body>
    <!-- 主內容容器 -->
    <div class="w-100 container-fluid mt-5">
        <!-- 搜尋區域的外框 -->
        <div class="row justify-content-center">
            <!-- 使用 Bootstrap 的 row 和 justify-content-center 將內容置於容器中間 -->
            <div class="d-flex flex-column bg-dark text-white p-4 rounded">
                <!-- col-md-8: 中等螢幕（md）和更大螢幕寬度下佔據8個欄位
                     bg-dark: 背景為深色
                     text-white: 文字顏色為白色
                     p-4: 四周內距為 4（相當於 1.5rem）
                     rounded: 圓角邊框 -->
                <!-- text-center: 將標題文字置中
                     mb-4: 下方外距為 4（相當於 1.5rem） -->
                <!-- 搜尋表單區 -->
                <form id="searchForm" onsubmit="searchRestaurants(event)" method="post" action="/SearchPage/SearchRestaurants" class="d-flex  align-items-center gap-3">
                    <!-- d-flex: 使用 Flexbox 佈局
                         flex-column: 將內容垂直排列
                         align-items-center: 水平置中對齊
                         gap-3: 每個項目之間的間距為 3（相當於 1rem） -->
                    <!-- 日期選擇 -->
                    <div class="input-group">
                        <!-- input-group: Bootstrap 組件，用於將多個輸入項目組合在一起 -->
                        <span class="input-group-text bg-secondary text-white">
                            <!-- input-group-text: 添加圖標
                                 bg-secondary: 背景為次要顏色
                                 text-white: 文字顏色為白色 -->
                            <i class="fa fa-calendar-alt"></i>
                        </span>
                        <input type="date" class="form-control">
                        <!-- form-control: 設定輸入框的樣式，使其符合 Bootstrap 的預設樣式 -->
                    </div>

                    <!-- 時間選擇 -->
                    <div class="input-group">
                        <span class="input-group-text bg-secondary text-white">
                            <i class="fa fa-clock"></i>
                        </span>
                        <select class="form-select">
                            <!-- form-select: 設定下拉選單的樣式，使其符合 Bootstrap 的預設樣式 -->
                            <option>下午8:00</option>
                            <!-- 其他選項 -->
                        </select>
                    </div>

                    <!-- 人數選擇 -->
                    <div class="input-group">
                        <span class="input-group-text bg-secondary text-white">
                            <i class="fa fa-user"></i>
                        </span>
                        <select class="form-select">
                            <option>2位</option>
                            <!-- 其他選項 -->
                        </select>
                    </div>

                    <!-- 關鍵字輸入框 -->
                    <div class="input-group">
                        <span class="input-group-text bg-secondary text-white">
                            <i class="fa fa-search"></i>
                        </span>
                        <input id="searchKeyword" name="keyword" type="text" class="form-control" placeholder="地點、餐廳或料理">
                    </div>

                    <!-- 搜尋按鈕 -->
                    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
                    <!-- 引入 Axios 庫，確保可以使用 axios -->

                    <button id="searchButton" type="button" onclick="searchRestaurants()" class="btn btn-danger w-50">尋找餐廳</button>

                    <button type="submit" class="btn btn-danger w-50">
                        <!-- btn: 基本按鈕樣式
                             btn-danger: 設定按鈕顏色為紅色
                             w-50: 設定按鈕寬度為 50% -->
                        尋找餐廳2
                    </button>
                </form>
                   @* 搜尋按鈕的方法與邏輯 *@
                    <script>
                    function searchRestaurants() {
                        var keyword = document.getElementById("searchKeyword").value;

                        console.log("Search Keyword:", keyword); // 確認關鍵字是否正確

                        // 將參數附加到 URL 作為查询字符串
                        axios.post(`/SearchPage/SearchRestaurants?keyword=${encodeURIComponent(keyword)}`)
                            .then(function (response) {
                                document.getElementById('searchResultsContainer').innerHTML = response.data;
                            })
                            .catch(function (error) {
                                console.error("請求發生錯誤:", error);
                            });
                    }
                    </script>
            </div>
            <!-- 排序按鈕區 -->
            <div class="container">
                <div class="row align-items-center m-3">
                    <!-- 左側按鈕區域 -->
                    <div class="col-auto">
                        <button class="btn btn-outline-primary me-2">評分高低</button>
                        <button class="btn btn-outline-primary">距離遠近</button>
                    </div>

                    <!-- 中間的地點提示文字 -->
                    <div class="col-9 text-center">
                        <!--col 影響它的位置-->
                        <p class="mb-0">您現在的地點在台中市嗎？ 
                            <a href="#" class="text-danger">
                            <i class="bi bi-geo-alt-fill"></i> 獲得現在地點
                            </a>    
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>